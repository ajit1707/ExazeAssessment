var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _style=_interopRequireDefault(require("./style"));var _assets=_interopRequireDefault(require("../../assets"));var _actions=require("./../../redux/actions");var _reactRedux=require("react-redux");var _strings=_interopRequireDefault(require("./../../utility/strings"));var _Button=_interopRequireDefault(require("../../components/Button"));var _TextInput=_interopRequireDefault(require("../../components/TextInput"));var _deviceInfo=_interopRequireDefault(require("../../utility/deviceInfo"));var _this=this,_jsxFileName="/Users/apple/Documents/DEMO/ExazeAssessment/src/screens/welcomeScreen/index.js";function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!=="object"&&typeof obj!=="function"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var WelcomeScreen=function WelcomeScreen(props){var userNameData=props.userNameData;var _useState=(0,_react.useState)(undefined),_useState2=(0,_slicedToArray2.default)(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=(0,_react.useState)(undefined),_useState4=(0,_slicedToArray2.default)(_useState3,2),userNameError=_useState4[0],setUserNameError=_useState4[1];(0,_react.useEffect)(function(){_deviceInfo.default.showEmulatorToast(_strings.default.nativeToast.showMessage);});var validate=function validate(){var isNameValidated=validateName();var saveUserName=props.saveUserName,navigation=props.navigation;if(isNameValidated){saveUserName(userName);navigation.navigate('Variation');}};var validateName=function validateName(){if(userName==''||userName==undefined){setUserNameError(_strings.default.welcome.validatename);}else{setUserNameError(true);return true;}};return _react.default.createElement(_reactNative.View,{style:_style.default.container,__self:_this,__source:{fileName:_jsxFileName,lineNumber:51,columnNumber:5}},_react.default.createElement(_reactNative.ScrollView,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:7}},_react.default.createElement(_reactNative.Text,{style:_style.default.userNameheader,__self:_this,__source:{fileName:_jsxFileName,lineNumber:53,columnNumber:9}},userNameData==''?null:"Welcome "+userNameData+"!"),_react.default.createElement(_reactNative.View,{style:_style.default.viewContainer,__self:_this,__source:{fileName:_jsxFileName,lineNumber:56,columnNumber:9}},_react.default.createElement(_reactNative.Image,{style:_style.default.image,source:_assets.default.logo,__self:_this,__source:{fileName:_jsxFileName,lineNumber:57,columnNumber:11}}),_react.default.createElement(_reactNative.Text,{style:_style.default.header,__self:_this,__source:{fileName:_jsxFileName,lineNumber:58,columnNumber:11}},_strings.default.welcome.welcome),_react.default.createElement(_TextInput.default,{placeholder:_strings.default.welcome.InputPlaceholder,image:_assets.default.user,containerStyle:_style.default.textInput,onChangeText:function onChangeText(text){setUserName(text);validateName();},maxLength:15,value:userName,__self:_this,__source:{fileName:_jsxFileName,lineNumber:59,columnNumber:11}}),userNameError&&_react.default.createElement(_reactNative.Text,{style:_style.default.errorText,__self:_this,__source:{fileName:_jsxFileName,lineNumber:71,columnNumber:13}},userNameError),_react.default.createElement(_Button.default,{containerStyle:_style.default.button,text:_strings.default.welcome.save,onPress:function onPress(){return validate();},__self:_this,__source:{fileName:_jsxFileName,lineNumber:73,columnNumber:11}}))));};var mapStateToProps=function mapStateToProps(state){return{userNameData:state.userName};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{saveUserName:function saveUserName(userName){return(0,_actions.saveUserName)(dispatch,userName);}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(WelcomeScreen);exports.default=_default;